<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HENG HENG CLUB</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h1>
    <input type="text" id="phone" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£" />
    <button onclick="search()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>

    <div id="result" class="result"></div>
  </div>

  <script>
    async function search() {
      const phone = document.getElementById("phone").value.trim();
      const resultDiv = document.getElementById("result");

      if (!phone) {
        resultDiv.innerHTML = "<p class='error'>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</p>";
        return;
      }

      resultDiv.innerHTML = "<p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</p>";

      try {
        const url = `https://script.google.com/macros/s/AKfycbxS8kwIxmbQgwRlriBY85cmCL3Rgv84Vw6oqhIkAIRZIb2JYDyCgQSuSNHYYJJOxumR/exec?phone=${phone}`;
        const res = await fetch(url);
        const data = await res.json();

        if (data.error) {
          resultDiv.innerHTML = `<p class='error'>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>`;
        } else {
          resultDiv.innerHTML = `
            <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
            <p>üìå ‡∏£‡∏´‡∏±‡∏™‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: <strong>${data.code}</strong></p>
            <p>üë§ ‡∏ä‡∏∑‡πà‡∏≠: <strong>${data.name}</strong></p>
            <p>üí∞ ‡∏¢‡∏≠‡∏î‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <strong>${data.balance}</strong> ‡∏ö‡∏≤‡∏ó</p>
          `;
        }
      } catch (err) {
        resultDiv.innerHTML = `<p class='error'>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</p>`;
      }
    }
  </script>
</body>
</html>
